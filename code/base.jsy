
export class MQTT_base ::
  with(kw) :: return Object.assign(this, kw)

  constructor(pi_ctx) ::
    if pi_ctx :: this.ctx = pi_ctx

  with_mqtt(mqtt, _conn) ::
    return Object.defineProperties @ this, @{}
      mqtt: @{} value: mqtt
      _conn: @{} value: _conn || mqtt.connect()


